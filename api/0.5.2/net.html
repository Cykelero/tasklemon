<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>
			net â€” Tasklemon API
		</title>
		<meta name="viewport" content="width = device-width, initial-scale = 1, user-scalable = no" />
		<link href="resources/main.css" type="text/css" rel="stylesheet" />
		<link href="resources/580-.css" type="text/css" rel="stylesheet" media="(max-width: 580px)" />
		<link href="resources/highlightjs.css" type="text/css" rel="stylesheet" />
		<script src="resources/main.js" type="text/javascript"></script>
	</head>
	<body>
		<nav>
			<a href="./" style="color: #63C917">
				<img class="product-logo" src="resources/nav-logo@3x.png" alt="" />
				<span class="product-name">Tasklemon API</span>
				<span class="product-version">0.5.2</span>
			</a>
		</nav>

		<div class="page">
			<div class="class">
				<h1>net</h1>
				<h2 id="overview">Overview</h2>
				<div class="discussion class-discussion">
					The <code>net</code> object exposes methods for retrieving data from the Web and performing arbitrary HTTP requests.<br />
					Under the hood, requests are made using the <a href="https://github.com/bitinn/node-fetch"><code>node-fetch</code></a> polyfill of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch API</a>.<br />
					DOM parsing relies on <a href="https://github.com/jsdom/jsdom">JSDOM</a>, an implementation of DOM/HTML for Node.
				</div>
				<h2 id="members">Methods and properties</h2>
				<div class="class-member-groups">
					<div class="class-member-group">
						<h3>Performing requests</h3>
						<div class="class-member class-method" id="net.getText">
							<h4 class="class-method-signatures" title="Gets text from a URL">
								<code class="class-method-returntype"><span class="df-kind-object">Promise</span><<span class="df-kind-string">String</span>></code>
								<code class="class-method-signature"
									>net.getText(<span class="class-method-signature-argument-block"><span class="df-kind-string">String</span> <span class="class-method-argument">url</span>,</span> [<span class="class-method-signature-argument-block"><span class="df-kind-object">Object</span> <span class="class-method-argument">options</span></span
									>])</code
								>
							</h4>
							<div class="class-member-content df-kindborder-object">
								<div class="discussion class-method-discussion">
									Queries a URL and returns the response body as a string, as a <code>Promise</code>.<br />
									Rejects if the query fails.
								</div>
								<table class="class-method-arguments">
									<tbody>
										<tr>
											<td class="df-kind-string">
												<span class="class-method-argument">url</span>
											</td>
											<td>
												<div class="class-method-argument-description ">
													The URL to query.
												</div>
											</td>
										</tr>
										<tr>
											<td class="df-kind-object">
												<span class="class-method-argument">options</span>
											</td>
											<td>
												<div class="class-method-argument-description ">Custom options passed to <code>fetch()</code>.</div>
											</td>
										</tr>
									</tbody>
								</table>
								<h5><span class="caption">sample</span> Get a string from a random number API</h5>
								<pre class="sample class-method-sample hljs"><code><span class="hljs-keyword">const</span> trulyRandomNumber = <span class="hljs-keyword">await</span> net.<span class="hljs-title function_">getText</span>(<span class="hljs-string">&#x27;https://www.random.org/cgi-bin/randbyte?nbytes=1&amp;format=d&#x27;</span>);
cli.<span class="hljs-title function_">tell</span>(trulyRandomNumber);</code></pre>
							</div>
						</div>
						<div class="class-member class-method" id="net.getJSON">
							<h4 class="class-method-signatures" title="Gets JSON from a URL">
								<code class="class-method-returntype"><span class="df-kind-object">Promise</span><<span class="df-kind-object">Any</span>></code>
								<code class="class-method-signature"
									>net.getJSON(<span class="class-method-signature-argument-block"><span class="df-kind-string">String</span> <span class="class-method-argument">url</span>,</span> [<span class="class-method-signature-argument-block"><span class="df-kind-object">Object</span> <span class="class-method-argument">options</span></span
									>])</code
								>
							</h4>
							<div class="class-member-content df-kindborder-object">
								<div class="discussion class-method-discussion">
									Queries a URL and returns the response body parsed as JSON, as a <code>Promise</code>.<br />
									Rejects if the query fails, or if the body cannot be parsed as JSON.
								</div>
								<table class="class-method-arguments">
									<tbody>
										<tr>
											<td class="df-kind-string">
												<span class="class-method-argument">url</span>
											</td>
											<td>
												<div class="class-method-argument-description ">
													The URL to query.
												</div>
											</td>
										</tr>
										<tr>
											<td class="df-kind-object">
												<span class="class-method-argument">options</span>
											</td>
											<td>
												<div class="class-method-argument-description ">Custom options passed to <code>fetch()</code>.</div>
											</td>
										</tr>
									</tbody>
								</table>
								<h5><span class="caption">sample</span> Get the release date of an NPM package</h5>
								<pre class="sample class-method-sample hljs"><code><span class="hljs-keyword">const</span> tasklemonNpmDetails = <span class="hljs-keyword">await</span> net.<span class="hljs-title function_">getJSON</span>(<span class="hljs-string">&#x27;https://registry.npmjs.org/tasklemon&#x27;</span>);
<span class="hljs-keyword">const</span> lastReleaseDate = tasklemonNpmDetails.<span class="hljs-property">time</span>.<span class="hljs-property">modified</span>;

cli.<span class="hljs-title function_">tell</span>(<span class="hljs-string">&#x27;Last Tasklemon release was &#x27;</span> + format.<span class="hljs-property">date</span>.<span class="hljs-title function_">relative</span>(lastReleaseDate) + <span class="hljs-string">&#x27;.&#x27;</span>);</code></pre>
							</div>
						</div>
						<div class="class-member class-method" id="net.getDOM">
							<h4 class="class-method-signatures" title="Gets a DOM tree from a URL">
								<code class="class-method-returntype"><span class="df-kind-object">Promise</span><<span class="df-kind-object">JSDOM</span>></code>
								<code class="class-method-signature"
									>net.getDOM(<span class="class-method-signature-argument-block"><span class="df-kind-string">String</span> <span class="class-method-argument">url</span>,</span> [<span class="class-method-signature-argument-block"><span class="df-kind-object">Object</span> <span class="class-method-argument">options</span></span
									>])</code
								>
							</h4>
							<div class="class-member-content df-kindborder-object">
								<div class="discussion class-method-discussion">
									Queries a URL and returns the response body as a <code>JSDOM</code> object, as a <code>Promise</code>.<br />
									Rejects if the query fails, or if the body cannot be parsed as HTML.
								</div>
								<table class="class-method-arguments">
									<tbody>
										<tr>
											<td class="df-kind-string">
												<span class="class-method-argument">url</span>
											</td>
											<td>
												<div class="class-method-argument-description ">
													The URL to query.
												</div>
											</td>
										</tr>
										<tr>
											<td class="df-kind-object">
												<span class="class-method-argument">options</span>
											</td>
											<td>
												<div class="class-method-argument-description ">Custom options passed to <code>fetch()</code>.</div>
											</td>
										</tr>
									</tbody>
								</table>
								<h5><span class="caption">sample</span> Query isitweekendyet.com</h5>
								<pre class="sample class-method-sample hljs"><code><span class="hljs-keyword">const</span> weekendDOM = <span class="hljs-keyword">await</span> net.<span class="hljs-title function_">getDOM</span>(<span class="hljs-string">&#x27;http://isitweekendyet.com&#x27;</span>);
<span class="hljs-keyword">const</span> weekendEstimation = weekendDOM.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;div&#x27;</span>).<span class="hljs-property">textContent</span>.<span class="hljs-title function_">trim</span>();

cli.<span class="hljs-title function_">tell</span>(<span class="hljs-string">&#x27;Is it the weekend yet? &#x27;</span> + weekendEstimation);</code></pre>
							</div>
						</div>
						<div class="class-member class-method" id="net.fetch">
							<h4 class="class-method-signatures" title="Performs a fetch">
								<code class="class-method-returntype"><span class="df-kind-object">Promise</span><<span class="df-kind-object">Response</span>></code>
								<code class="class-method-signature"
									>net.fetch(<span class="class-method-signature-argument-block"><span class="df-kind-string">String</span>|<span class="df-kind-object">Request</span> <span class="class-method-argument">input</span>,</span> [<span class="class-method-signature-argument-block"><span class="df-kind-object">Object</span> <span class="class-method-argument">init</span></span
									>])</code
								>
							</h4>
							<div class="class-member-content df-kindborder-object">
								<div class="discussion class-method-discussion">Performs an arbitrary request by making a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">Fetch</a> call.</div>
								<table class="class-method-arguments">
									<tbody>
										<tr>
											<td class="df-kind-multiple">
												<span class="class-method-argument">input</span>
											</td>
											<td>
												<div class="class-method-argument-description ">
													The URL to query or request to perform.
												</div>
											</td>
										</tr>
										<tr>
											<td class="df-kind-object">
												<span class="class-method-argument">init</span>
											</td>
											<td>
												<div class="class-method-argument-description ">
													Fetch options.
												</div>
											</td>
										</tr>
									</tbody>
								</table>
								<h5><span class="caption">sample</span> Check the response status of a URL</h5>
								<pre class="sample class-method-sample hljs"><code><span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> net.<span class="hljs-title function_">fetch</span>(<span class="hljs-keyword">await</span> cli.<span class="hljs-title function_">ask</span>(<span class="hljs-string">&#x27;URL to check?&#x27;</span>));
cli.<span class="hljs-title function_">tell</span>(<span class="hljs-string">&#x27;URL is &#x27;</span> + response.<span class="hljs-property">ok</span> ? <span class="hljs-string">&#x27;OK&#x27;</span> : <span class="hljs-string">&#x27;not OK&#x27;</span>);</code></pre>
							</div>
						</div>
					</div>
				</div>
				<h2 id="related">Related classes</h2>
				<div class="discussion class-related">
					You can use <a href="cli.html#cli.tellWhile" title="Displays text until a Promise resolves"><code>cli.tellWhile()</code></a> to display a message while a network request is pending.
				</div>
			</div>
		</div>
	</body>
</html>
